<html>

  <head>
    <title>storj token multisig wallet</title>

    <script src="bundle.js"></script>
    <script src="jquery-2.0.3.min.js"></script>

    <style>
      body {
        font-family: helvetica;
        font-size: 14px;
      }
      #cy {
        width: 100%;
        height: 100%;
        left: 0;
        top: 50px;
      }
      h1 {
        opacity: 0.5;
        font-size: 1em;
      }
    </style>
    
    <script>
      let a
      a = new App()
      $(document).ready(function() {
        var tBalance = a.getTokenBalance((res)=>{
          console.log(res)
          $(".balance").html("<p>Wallet STORJ Balance</p>"+ res)
        })

        var owners = a.getOwners((res)=>{
          console.log(res)
          $(".owners").html("<p>Owners</p>"+ res)
        })

        $('#theButton').click(function() {
          a.sendTokens($('#toAddress').val(), $('#numTokens').val(), (res)=>{
            //$(".cost").html("TX cost: " + wBalance - a.getWalletBalance())
          })
        })

        $('#confirmButton').click(function() {
          a.confirm($('#txHash').val(), (res)=>{

          })
        })

        $('#getConfirms').click(function() {
          a.getConfirms($('#txHash').val(), (res)=>{
            (".confirms").html("<p>Confirms</p>"+ res)
          })
        })
      })

      var audit = function(index) {

      }

      var handleFiles = function(files) {
        a = new App(window.shard)
        var rs = window.getFileStream(files);
        a.generateNodes(rs, (tree) => {
          //renderGraph(tree)
          //console.log(tree)
        })
      }
    </script>
  </head>

  <body style="background-color:powderblue;">
    <h2 style="text-align:center; color:gray">Storj Multisig Wallet</h2>
    <div class="owners"></div>
    <div class="balance"></div>
    <hr/>
    <p style="color:blue">Submit Token Transaction: </p>
    <p>To:</p>
    <input type="text" id="toAddress" name="valueId" size="36"/>
    <br/>
    <p>Tokens:</p>
    <input type="text" id="numTokens" name="valueId" size="6"/>
    <br/>
    <br/>
    <button type="submit" id="theButton" name="submitButton">Send Tokens</button>
    <div class="cost"></div>
    <br/>
    <hr/>
    <br/>
    <div>
      <p style="color:blue">Confirm Transaction</p>
      <p>TX hash:</p>
      <input type="text" id="txHash" name="valueId" size="36"/>
      <br/>
      <br/>
      <button type="submit" id="confirmButton" name="submitButton">Confirm</button>
    </div>
    <div style="margin-left:260px; margin-top:-150px; border-left:1px solid #000;height:300px;">
    </div>
    <div style="margin-left:300px; margin-top:-275px;">
      <p style="color:blue;">Get Confirmations</p>
      <div class="confirms"></div>
      <p>TX hash:</p>
      <input type="text" id="txHash" name="valueId" size="36"/>
      <br/>
      <br/>
      <button type="submit" id="getConfirms" name="submitButton">Get</button>
    </div>
    <br/>
    <hr/>
  </body>

</html>
